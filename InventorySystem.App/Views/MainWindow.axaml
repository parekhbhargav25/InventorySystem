<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:InventorySystem.App.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        x:Class="InventorySystem.App.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/avalonia-logo.ico"
        Title="InventorySystem.App">

    <Design.DataContext>
        <!-- This only sets the DataContext for the previewer in an IDE,
             to set the actual DataContext for runtime, set the DataContext property in code (look at App.axaml.cs) -->
        <vm:MainWindowViewModel/>
    </Design.DataContext>

    <Grid RowDefinitions="Auto,*,Auto" ColumnDefinitions="*">
        <StackPanel Orientation="Horizontal" Spacing="8" Margin="8">
            <TextBox Width="240" Watermark="Search name or SKU" Text="{Binding SearchText, Mode=TwoWay}"/>
            <Button Content="Search" Command="{Binding RefreshCommand}"/>
            <Button Content="New" Command="{Binding NewCommand}"/>
        </StackPanel>
        <Grid Grid.Row="1" ColumnDefinitions="2*,*" RowDefinitions="*">
            <DataGrid ItemsSource="{Binding Items}" SelectedItem="{Binding EditItem, Mode=TwoWay}" AutoGenerateColumns="False" Margin="8">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="SKU" Binding="{Binding Sku}"/>
                    <DataGridTextColumn Header="Name" Binding="{Binding Name}"/>
                    <DataGridTextColumn Header="Qty" Binding="{Binding QuantityOnHand}"/>
                    <DataGridTextColumn Header="Price" Binding="{Binding UnitPrice}"/>
                </DataGrid.Columns>
            </DataGrid>
            <StackPanel Margin="8" Grid.Column="1" Spacing="6">
                <TextBlock Text="Edit Item" FontSize="16" Margin="0,0,0,8"/>
                <TextBlock Text="SKU"/>
                <TextBox Text="{Binding EditItem.Sku, Mode=TwoWay}"/>
                <TextBlock Text="Name"/>
                <TextBox Text="{Binding EditItem.Name, Mode=TwoWay}"/>
                <TextBlock Text="Description"/>
                <TextBox Text="{Binding EditItem.Description, Mode=TwoWay}"/>
                <TextBlock Text="Quantity"/>
                <NumericUpDown Value="{Binding EditItem.QuantityOnHand, Mode=TwoWay}"/>
                <TextBlock Text="Unit Price"/>
                <NumericUpDown Value="{Binding EditItem.UnitPrice, Mode=TwoWay}"/>
                <TextBlock Text="Supplier"/>
                <ComboBox ItemsSource="{Binding Suppliers}" SelectedItem="{Binding EditItem.Supplier, Mode=TwoWay}" DisplayMemberPath="Name"/>
                <StackPanel Orientation="Horizontal" Spacing="8" Margin="0,8,0,0">
                    <Button Content="Save" Command="{Binding SaveCommand}"/>
                    <Button Content="Delete" Command="{Binding DeleteCommand}"/>
                </StackPanel>
            </StackPanel>
        </Grid>
    </Grid>

</Window>
